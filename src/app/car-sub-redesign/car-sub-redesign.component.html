<app-navbar-after-home-page [navtheme]="'whitetheme'"></app-navbar-after-home-page>
<div class="car-subs">
    <div class="car-subs-header d-flex">
        <p (click)="redirect('/home')" style="cursor: pointer;">HOME</p>
        <img src="../../assets/logos/Vector.png">
        <p>POPULAR CARS</p>
        <img src="../../assets/logos/Vector.png">
        <p>TOYOTA CARS</p>
        <img src="../../assets/logos/Vector.png">
        <p>{{techDetailsParameter.name.toUpperCase()}}</p>
    </div>
    <div class="stepper">
        <div class="progress" style="height:9px" aria-label="Danger example">
            <div class="progress-bar" style="width: 33.33%"></div>
        </div>
    </div>
    <div class="stepper-label">
        <p class="step-active">Choose Plan</p>
        <p>Enter Details</p>
        <p>Upload Documents</p>
    </div>
    <div class="bodyclass">
        <div class="right-section">
            <div class="car-images">
                <div class="car-main-img">
                    <img src="{{techDetailsParameter.imgUrl}}" alt="car-img">
                </div>
                <div class="car-etc-img-div">
                    <img src="../../assets/Toyota-Fortuner-Interior 1.png" alt="...">
                    <img src="../../assets/toyota_fortuner_29 1.png" alt="...">
                </div>
            </div>

            <div class="left-card my-3 py-3 px-2 d-flex">
                <div>
                    <div class="car-details py-2 px-2">
                        <h2>{{techDetailsParameter.name}}</h2>
                        <p class="mb-4 mt-3">Engine Capacity {{specificaiton.engine_capacity}} ·
                            {{specificaiton.Fuel_Type}}
                            · {{specificaiton.transmmission_type}} </p>

                        <h2>Service Package</h2>

                        <div class="d-flex radio-btn-group mt-3">
                            <label class="mt-auto mb-auto mr-5" for="">Standard</label>
                            <input class="ms-4 checked-radio" type="radio" name="warranty" id="specifyColor"
                                checked="checked">
                            <p class="mt-auto mb-auto ms-3">3 year warranty with free service</p>
                        </div>

                        <div class="d-flex radio-btn-group mt-3">
                            <label class="mt-auto mb-auto" for="">Advanced</label>
                            <input class="ms-4" type="radio" name="warranty" id="specifyColor">
                            <p class="mt-auto mb-auto ms-3">5 year warranty with road side assistance</p>
                        </div>

                        <h2 class="mt-4">Mileage Package</h2>
                        <div>
                            <div class="d-flex radio-btn-group mt-3">
                                <input class=" mileage-radio" type="radio" name="Mileage" id="specifyColor"
                                    checked="checked">
                                <label class="mt-auto mb-auto mr-5 ms-3 mileage-text1 milegae-cc" for="">Low <span
                                        class="label-des">10,000
                                        KM/Year</span><img class="exclamation-icon" src="../../assets/info-circle.png"
                                        alt=""></label>
                            </div>
                            <div class="d-flex radio-btn-group mt-3">
                                <input class=" mileage-radio" type="radio" name="Mileage" id="specifyColor">
                                <label class="mt-auto mb-auto mr-5 ms-3 mileage-text2 milegae-cc" for="">Normal <span
                                        class="label-des">15,000
                                        KM/Year</span><img class="exclamation-icon" src="../../assets/info-circle.png"
                                        alt=""></label>
                            </div>
                            <div class="d-flex radio-btn-group mt-3">
                                <input class=" mileage-radio" type="radio" name="Mileage" id="specifyColor">
                                <label class="mt-auto mb-auto mr-5 ms-3 mileage-text3 milegae-cc" for="">Ultimate <span
                                        class="label-des">25,000
                                        KM/Year</span><img class="exclamation-icon" src="../../assets/info-circle.png"
                                        alt=""></label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="left-card-right-side ms-3">
                    <div class="dropdown mt-2 d-flex select-variant" (click)="expandVariant()">
                        <h2>Select Variant</h2>
                        <i class="fa-solid" [class.fa-angle-down]="isVariantExpand"
                            [class.fa-angle-up]="!isVariantExpand"></i>
                    </div>

                    <div class="select-var-div" [style.display]="isVariantExpand ? 'inherit' : 'none'">
                        <div class="d-flex radio-btn-group mt-3">
                            <input class="ms-4 checked-radio" type="radio" name="warranty" id="specifyColor"
                                checked="checked">
                            <p class="mt-auto mb-auto ms-3">Standard</p>
                        </div>
                        <div class="d-flex radio-btn-group mt-3">
                            <input class="ms-4 checked-radio" type="radio" name="warranty" id="specifyColor">
                            <p class="mt-auto mb-auto ms-3">4x4</p>
                        </div>
                        <div class="d-flex radio-btn-group mt-3">
                            <input class="ms-4 checked-radio" type="radio" name="warranty" id="specifyColor">
                            <p class="mt-auto mb-auto ms-3">Turbo</p>
                        </div>
                        <div class="d-flex radio-btn-group mt-3">
                            <input class="ms-4 checked-radio" type="radio" name="warranty" id="specifyColor">
                            <p class="mt-auto mb-auto ms-3">Legender</p>
                        </div>

                    </div>

                    <div class="color-div">
                        <p class="mt-3">Color</p>
                        <div style="display: flex;">
                            <div *ngFor="let item of colorList">
                                <button class="dot redbtn color{{item}}" style="outline: solid 2px #a38c8c;"
                                    (click)="outline($event)"></button>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h2 class="mt-3 accessories">Accessories <span>(optional)</span></h2>
                        <div class="d-flex mt-3 my-2">
                            <img (click)="addBorder()" id="speedometer" class="speedometer"
                                src="../../assets/logos/456.png" style="margin-right: 20px;">
                            <img (click)="addBorder2()" id="engine" src="../../assets/logos/123.png">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="rightcard">
                <p class="lc-header" (click)="onClick()">Subscription Type<i class="fa-solid"
                        [class.fa-angle-down]="isUpperVisible" [class.fa-angle-up]="!isUpperVisible"></i></p>
                <div [style.display]="isUpperVisible ? 'inherit' : 'none'"
                    [style.height]="isUpperVisible ? 'fit-content' : '0'">
                    <div class="radio-body">
                        <div class="leasehire form-check form-check-inline" style="margin-left: -21px;">
                            <input type="radio" name="radio1" [(ngModel)]="loanHire" value="Loan" checked>
                            <label class="form-check-label" for="inlineRadio1">Loan</label>
                        </div>
                        <div class="leasehire form-check form-check-inline">
                            <input type="radio" name="radio1" [(ngModel)]="loanHire" value="HirePurchase">
                            <label class="form-check-label" for="inlineRadio1">Hire Purchase</label>
                        </div>
                    </div>

                    <p class='subhead'>Tenure <span class="text-secondary">(Months)</span></p>
                    <p style="font-weight: bold; font-size: 13px; color: grey; margin-top: -15px;">Select Preferred
                        Tenure</p>
                    <div class="numbers select-size">
                        <input class="numbtn" type="radio" name="s-size" id="small" />
                        <input class="numbtn" type="radio" name="s-size" id="medium" />
                        <input class="numbtn" type="radio" name="s-size" id="large" checked />
                        <input class="numbtn" type="radio" name="s-size" id="x-large" />
                        <input class="numbtn" type="radio" name="s-size" id="xx-large" />
                        <input class="numbtn" type="radio" name="s-size" id="xtra-large" />

                        <label for="small" class="option-text">
                            <p>24</p>
                        </label>
                        <label for="medium" class="option-text">
                            <p>36</p>
                        </label>
                        <label for="large" class="option-text">
                            <p>48</p>
                        </label>
                        <label for="x-large" class="option-text">
                            <p>60</p>
                        </label>
                        <label for="xx-large" class="option-text">
                            <p>72</p>
                        </label>
                        <label for="xtra-large" class="option-text">
                            <p>84</p>
                        </label>
                    </div>


                    <p class='subhead'>Ownership</p>
                    <div class="radio-body">
                        <div class="form-check form-check-inline" style="margin-left: -18px;">
                            <input type="radio" name="radio2" value="value" class="radiobtn" checked>
                            <label class="form-check-label" for="inlineRadio1">Individual</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" name="radio2" value="value" class="radiobtn">
                            <label class="form-check-label" for="inlineRadio2">Joint</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" name="radio2" value="value" class="radiobtn">
                            <label class="form-check-label" for="inlineRadio2">Business</label>
                        </div>
                        
                    </div>
                    <div [style.display]="loanHire=='Loan'? 'none' : 'inherit'">
                        <div class="downpayment">
                            <p class="subhead">Downpayment : </p>
                            <input type="text" placeholder="$0.00">
                        </div>
                        <p style="font-size: 11px; margin-top: -6px; font-weight: bold; color:grey">
                            Maximum amount should be: $ {{maxDownPayment}}</p>
                    </div>

                    <div [style.display]="loanHire=='Loan'? 'inherit' : 'none'">
                        <div class="d-flex" style="align-items: baseline;" >
                            <p class='subhead'>Buyback</p>
                            <div class="form-check form-switch" style="margin-left: 35px;">
                                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked"
                                    checked>
                                <label class="form-check-label" for="flexSwitchCheckChecked">Yes</label>
                            </div>
                        </div>
                    
                        <div class="d-flex perAm" style="gap:10px; justify-content: space-between;">
                            <div class="d-flex">
                                <p><b>Percentage: </b></p>
                                <p class="rangerr"><b>{{percentageValue}} %</b></p>
                            </div>
                            <div class="d-flex">
                                <p><b>Amount: </b></p>
                                <p class="amountt"><b>$ {{amountCalc}}</b></p>
                            </div>
                        </div>
                        <p style="font-size: 11px; margin-top: -10px; margin-bottom: 10px; font-weight: bold; color:grey">
                            Adjust Slider or Type in the Percentage</p>
                            <input type="range" [(ngModel)]="percentageValue" (input)="updatePercentage($event)" id="vol"
                            name="vol" min="5" max="35" list="tickmarks"
                            style="accent-color: #E42346; width: 100%; height: 5px;">
                        <div></div>
                        <datalist id="tickmarks">
                            <option value="0" label="5%"></option>
                            <option value="15" label="10%"></option>
                            <option value="30" label="15%"></option>
                            <option value="45" label="20%"></option>
                            <option value="60" label="25%"></option>
                            <option value="75" label="30%"></option>
                            <option value="100" label="35%"></option>
                        </datalist>
                    </div>
                        

                    
                    <!-- <div class="container text-center mt-3">
                        <button class="btn btn-secondary buybtn mb-2" style="justify-content: center;">Buy Back Pack
                            Amount</button>
                    </div> -->
                </div>
                <hr>
                <p class="lc-header" (click)="onPress()">Eligibility<i class="fa-solid"
                        [class.fa-angle-down]="isLowerVisible" [class.fa-angle-up]="!isLowerVisible"></i></p>
                <div [style.display]="isLowerVisible ? 'inherit' : 'none'"
                    [style.height]="isLowerVisible ? 'fit-content' : '0'">
                    <div class="radio-body">
                        <div class="form-check form-check-inline" style="margin-left: -18px;">
                            <input type="radio" name="radio4" value="value" class="radiobtn" checked>
                            <label class="form-check-label" for="inlineRadio1">Individual</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input type="radio" name="radio4" value="value" class="radiobtn">
                            <label class="form-check-label" for="inlineRadio2">Business</label>
                        </div>
                    </div>

                    <div class="fields">
                        <div style="display: flex;">
                            <p>Monthly Income : </p>
                            <input type="text" placeholder="$0.00">
                        </div>
                        <div style="display: flex;">
                            <p>Monthly Expenses : </p>
                            <input type="text" placeholder="$0.00">
                        </div>
                        <div style="display: flex;">
                            <p>Monthly Liabilities : </p>
                            <input type="text" placeholder="$0.00">
                        </div>
                        <div style="display: flex;">
                            <p>Years of Employment : </p>
                            <input type="text" value="2">
                        </div>
                        <div style="display: flex;">
                            <p>Years : </p>
                            <input type="text">
                        </div>
                    </div>
                    <div class="container text-center mt-3">
                        <button class="btn btn-secondary checkbtn mb-3" style="justify-content: center;">Check Now <i
                                class="fa-solid fa-arrow-right"></i></button>
                    </div>
                    <div class="mt-3">
                        <h5 style="font-family:Inter  ;font-weight: 800;">RESULT : <span class="text"
                                style="color: rgb(0, 187, 12);  font-family:Inter  ;font-weight: 800;"><b>ELIGIBLE</b></span>
                        </h5>
                    </div>
                    <p style="font-weight: bold; font-size: 14px; color: grey;">(You're eligible for an upgrade to
                        higher variant)</p>
                    <p style="color: #db0000; font-size: 14px; font-family: Inter;"><b><U>SWITCH MODEL</U></b></p>
                    <div style="display: flex; gap: 10px;">
                        <div class="small-card">
                            <img src={{techDetailsParameter.imgUrl}}>
                        </div>
                        <div class="small-card">
                            <img src="../../assets/Cars/carr2.png">
                        </div>
                        <div class="small-card">
                            <img src="../../assets/Cars/carr1.png">
                        </div>
                    </div><br>
                    <div class="container text-center">
                        <p style="color: #db0000; font-size: 14px; font-family: Montserrat;"><b>View all <i
                                    class="fa-solid fa-arrow-right"></i></b></p>
                    </div>

                </div>
        </div>
    </div>
</div>
<div class="car-subs-footer">
    <div class="cs-footer-com">
        <button href="car-sub-submit" class="btn roadprice">On-road price</button>
        <h6 class="price">${{techDetailsParameter.price}}</h6>
    </div>
    <div class="cs-footer-com" style="padding-top: 5px;">
        <h6 class="price" style="font-size: 15px;">Monthly Payment from: ${{calculateEMI(techDetailsParameter.price)}}/m</h6>
        <img src="../../assets/logos/info-circle.png"
            style="height:15px; margin-bottom: -8px; margin-right: 10px; margin-left: -12px;">
        <h6 class="redtxt" style="font-size: 14px;">View Benefits</h6>
    </div>
    <div class="cs-footer-com" (click)="applyNow()">
        <button class="btn roadprice">Apply Now</button>
    </div>
</div>